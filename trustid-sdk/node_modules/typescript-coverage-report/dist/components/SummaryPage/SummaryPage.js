"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
exports.__esModule = true;
var react_1 = __importDefault(require("react"));
var path_1 = __importDefault(require("path"));
var semantic_ui_react_1 = require("semantic-ui-react");
var headers = ["Filename", "Percent", "Total", "Covered", "Uncovered"];
var SummaryPage = function (_a) {
    var fileCounts = _a.fileCounts, percentage = _a.percentage, total = _a.total, covered = _a.covered, uncovered = _a.uncovered, threshold = _a.threshold;
    var isSummaryValid = percentage >= threshold;
    return (react_1["default"].createElement(semantic_ui_react_1.Container, { style: { marginTop: "3em" } },
        react_1["default"].createElement(semantic_ui_react_1.Header, { as: "h1" }, "TypeScript coverage report"),
        react_1["default"].createElement(semantic_ui_react_1.Header, { as: "h2" }, "Summary"),
        react_1["default"].createElement(semantic_ui_react_1.Table, { celled: true },
            react_1["default"].createElement(semantic_ui_react_1.Table.Header, null,
                react_1["default"].createElement(semantic_ui_react_1.Table.Row, null, ["Percent", "Threshold", "Total", "Covered", "Uncovered"].map(function (header, index) { return (react_1["default"].createElement(semantic_ui_react_1.Table.HeaderCell, { key: index }, header)); }))),
            react_1["default"].createElement(semantic_ui_react_1.Table.Body, null,
                react_1["default"].createElement(semantic_ui_react_1.Table.Row, { negative: !isSummaryValid, positive: isSummaryValid },
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, percentage.toFixed(2) + "%"),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null,
                        threshold,
                        "%"),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, total),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, covered),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, uncovered)))),
        react_1["default"].createElement(semantic_ui_react_1.Header, { as: "h2" }, "Files"),
        react_1["default"].createElement(semantic_ui_react_1.Table, { celled: true, style: { marginTop: "2em" } },
            react_1["default"].createElement(semantic_ui_react_1.Table.Header, null,
                react_1["default"].createElement(semantic_ui_react_1.Table.Row, null, headers.map(function (header, index) { return (react_1["default"].createElement(semantic_ui_react_1.Table.HeaderCell, { key: index }, header)); }))),
            react_1["default"].createElement(semantic_ui_react_1.Table.Body, null, Array.from(fileCounts).map(function (_a, index) {
                var filename = _a[0], _b = _a[1], correctCount = _b.correctCount, totalCount = _b.totalCount;
                var percentage = totalCount === 0 ? 100 : (correctCount * 100) / totalCount;
                var percentageCoverage = percentage.toFixed(2) + "%";
                var isValid = percentage >= threshold;
                return (react_1["default"].createElement(semantic_ui_react_1.Table.Row, { key: index, negative: !isValid, positive: isValid },
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, { selectable: true },
                        react_1["default"].createElement("a", { style: { color: "inherit" }, href: path_1["default"].join("files", filename + ".html") }, filename)),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, percentageCoverage),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, totalCount),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, correctCount),
                    react_1["default"].createElement(semantic_ui_react_1.Table.Cell, null, totalCount - correctCount)));
            })))));
};
exports["default"] = SummaryPage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU3VtbWFyeVBhZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvY29tcG9uZW50cy9TdW1tYXJ5UGFnZS9TdW1tYXJ5UGFnZS50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxnREFBMEI7QUFDMUIsOENBQXdCO0FBQ3hCLHVEQUE2RDtBQUc3RCxJQUFNLE9BQU8sR0FBRyxDQUFDLFVBQVUsRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFLFNBQVMsRUFBRSxXQUFXLENBQUMsQ0FBQztBQU16RSxJQUFNLFdBQVcsR0FBRyxVQUFDLEVBT2I7UUFOTiwwQkFBVSxFQUNWLDBCQUFVLEVBQ1YsZ0JBQUssRUFDTCxvQkFBTyxFQUNQLHdCQUFTLEVBQ1Qsd0JBQVM7SUFFVCxJQUFNLGNBQWMsR0FBRyxVQUFVLElBQUksU0FBUyxDQUFDO0lBRS9DLE9BQU8sQ0FDTCxpQ0FBQyw2QkFBUyxJQUFDLEtBQUssRUFBRSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUU7UUFDcEMsaUNBQUMsMEJBQU0sSUFBQyxFQUFFLEVBQUMsSUFBSSxpQ0FBb0M7UUFDbkQsaUNBQUMsMEJBQU0sSUFBQyxFQUFFLEVBQUMsSUFBSSxjQUFpQjtRQUNoQyxpQ0FBQyx5QkFBSyxJQUFDLE1BQU07WUFDWCxpQ0FBQyx5QkFBSyxDQUFDLE1BQU07Z0JBQ1gsaUNBQUMseUJBQUssQ0FBQyxHQUFHLFFBQ1AsQ0FBQyxTQUFTLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxTQUFTLEVBQUUsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUM1RCxVQUFDLE1BQU0sRUFBRSxLQUFLLElBQUssT0FBQSxDQUNqQixpQ0FBQyx5QkFBSyxDQUFDLFVBQVUsSUFBQyxHQUFHLEVBQUUsS0FBSyxJQUFHLE1BQU0sQ0FBb0IsQ0FDMUQsRUFGa0IsQ0FFbEIsQ0FDRixDQUNTLENBQ0M7WUFDZixpQ0FBQyx5QkFBSyxDQUFDLElBQUk7Z0JBQ1QsaUNBQUMseUJBQUssQ0FBQyxHQUFH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